ѧʿѧλ THESIS OF BACHELOR Ŀ On UniformApproach ToRandom ProcessModel ѧ ﳿ ѧѧţ  516030910421 ר ҵ ѧ뼼 ָʦ  ѧԺ (ϵ) ѧ빤ϵ Ϻͨѧҵƣģԭ֣ʽıҵƣģǱڵʦָ£оȡõĳɹѾעõ⣬Ĳκ˻Ѿ׫дƷɹԱĵоҪ׵ĸ˺ͼ壬ȷʽȫʶķɽɱ˳еѧλǩڣOnUniform Approach ToRandomProcessModelժҪۼѧһԾоŴģͨѶϵͳѸٷչ۳ΪģͱʵϵͳҪۡΪ䲢۵չʽ̱㷺о˺ܶڲͬӦóĸֱ塣 2019꣬һԲģͽиʻչͨ÷һģ޹Եŵ㡣ڱУһͨ÷Ŀ¶ԸĹչһֵ汾ֵģ͡һģʹøͨ÷Ծ䴫ֵĸչȣǹ淶ֵģ͵﷨ת壬оһģ͵Ĵʣ绥ģϵǻ֤һģ͵ȼ۹ϵͬԡΣֵ֤ģͿھдֵصʵĽģͷΪӦðʹֵģЧĽģģʵ˻ƼЭ Gossip-Style MembershipЭͨẒֵ֤́ģͶڲͨŹ̵ĽģͷһĿԡǵĹǸͨ÷ۺӦòϵ졣ؼʣֵۣ̣̣ģϵ۲ȼ Iҳ IIIҳON UNIFORM APPROACH TORANDOMPROCESS MODEL ABSTRACT Concurrency theory has been an active field of research in theoretical computer science. Re.cently, with the rapid development of massive communication systems, concurrency theory has become an importantmethodologyformodeling and characterizing realconcurrentsystems. As an extension of classic concurrency theory, probabilistic processes have been widely studied for many years and led to lots of variants for different applications. In 2019, Yuxi Fu has proposed a uni.formapproach tostudythe probabilisticextensionof concurrency processes which has the merit of beingmodel-independent. Inthiswork,wefirstextendYuxisoriginalworkbyintroducingaran.dom version of value-passing calculus under the uniform approach framework. This new model is arandomized extension of the classic value-passingcalculus. Inthispaper,weformalize thegram.mar and transition semantics of the random value-passing calculus, as well as study its algebraic properties such as bisimulation relation. We show that the new equivalence relation is a congruent relation. Second, we show that random value-passing calculus is especially suitable for modeling and analyzing real-world applications with value-passing characteristics. As a case study, we use random value-passing calculus to efficiently model and implement a well-known communication systembasedontheGossip-StyleMembershipProtocol,whichisacloudcomputingprotocol. This shows that our new model is suitable for formalizing and analysis modern concurrent communica.tion systems. Our work extends the uniform approach to random process model in both theoretical and application aspects. Key words: concurrency theory, probabilistic process, value-passing calculus, bisimulation, ob.servation equivalence  IIҳ IIIҳĿ¼ һ  1  1.1ͨϵͳ  1  1.2ģ   2  1.3оĿ   2  1.4Ľṹ   2 ڶֵģ͡  3  2.1ֵģ   3  2.1.1  The Value-Passing Calculus   3  2.1.2  If Then Else﷨Ż   4  2.2ֵģ   5  2.3ֵģеĻģϵ   6  2.3.1 ģϵ۲ȼԡ  6  2.3.2 ȼ   9  2.3.3 ֵģ͵ķŻģ   12  2.4ֵģ͵ĵȼ   15  2.5С   19 ֵģ͵Ӧ   21  3.1 Gossip-Style MembershipЭ   21  3.1.1  GossipЭ   21  3.1.2 ԱЭ   21  3.2 Gossip-Style Membershipʵ   22  3.2.1  GossipЭʵ   22  3.2.2  GossipЭĵȼ   24  3.2.3  Gossip-Style Membershipʵ   26  3.3 Gossip-Style Membershipķģ⡤  29  3.3.1  Go CSP   29  3.3.2 ʵЧ   30  3.4С   32 ܽչ   33 ¼ A Gossip-Style MembershipЭ P2Pϵͳ Goʵ   35 ο   40 л   43  IIIҳ IIIҳһۼѧһԾоŴģͨѶϵͳѸٷչ۳ΪģͱʵϵͳҪۡ۵оݰο̻н̵ΪʲôǿԻģ⣬оͨźͬƣɹ۲ԡɢԵȲ󡣶Բ۵оǶԲϵͳʶҪоɹѾ AdaJavaȳеõ㷺Ӧ[1]ڼѧУ㣨̴ʽģϵͳĶطṩ˾˳Ƕ֮佻ͨšͬķа˶Խ̲ͷԼ֤ʽƵ֮ڵȼ۹ϵĴ [2]ڽĵҪ MILNERRͨϵͳ CCS(CalculusofCommunicatingSystem)[3]HOARE Cͨ˳ CSP[4]BERGSTRA J ACP[5]Լ BOLOGNESI Tȵ LOTOS[6]Ϊһϵͳģͣܵ㷺оɹӦõʵϵͳĹ淶ơ֤СִѧоҪڶԲϵͳоҲܹעִϵͳпԡֲʽʽص㣬ϵͳͨӵΪȷΪΪΪʹü򵥡õʽӵĲϵͳԲϵͳнģͷͨʹ÷ȷΪͳΪԡˣڲģԵĸġΪ䲢ģ͵Ҫչʽ̱㷺одԵĹж CCSĸչ[7,8], CSP[9]͸ ACP[10]ȡڣ FUYһͨ÷ UniformApproach[11]ڽģչΪʲģ͡ģ޹ԣǿʹ Uniform ApproachģͽиʻչҪĽΪģ͵Ļֱ MILNER R Calculus of CommunicatingSystem(CCS)[3] HOAREC CommunicatingSequentialProcess(CSP)[4]ǵȼ۵ͺͽģϵͳõķ [12]Uniform Approach CCSΪ˸չΪ Uniform Approachȶ CCSмҪĽܡ 1.1ͨϵͳ CCSʹ˱ǱǨϵͳ (Labled Transition System)ģCCS﷨£ ..,..=... ................(..).......... .... ..,..Ϊ CCSḺ̌ʽ (agent)..Ϊ̱ʽԪ agentvariables ..Ȼ.......Ϊ֣ͨļϣеԪСдĸʾ .......={............} ......=..............{..}еԪСдϣĸʾ............ʾһо̬Ǩƣڲ...........Ϊȷѡ ..=.ǿԽһд 0.....ʾ ..,..ԲִС(..)..Ϊƣ Restriction򱾵ػ Localizationӣ ..е ..ͨҲдΪ ..\{..} ..\......ʾݹ飨 Recursionһ CCS̱ʽ ..вɱԪ ..Ϊ̣ process 1ҳ 43ҳCCSǨͼ 1.1ʾ״̬֮ıǨ ........ͼ 1.1 CCSǨ 1.2ģ FU Yṩһģ޹صķ An Uniform Approach to Random Process Model(Uniform Approach)[11]ģչΪģ͡ Uniform Approach˷ȷΪ͸ԵΪ CCSĻϽ CCS(ĳΪ RCCS)﷨Ǩ岢о RCCSĴ绥ģϵ RCCS CCSĻ˸ѡ ................ 0<....<1ġ........= 1磬 ..= 13.....1+23.....2ζ ..̬Ǩƣڲ ..1ĸΪ 13 ..2ĸΪ 32ӦѡӵǨΪ Uniform Approachģ޹ԣǿչĽģͣʹǸģ͸ʻ 1.3оĿϣʹ Uniform Approachͨ÷ʻչ䲢ģֵ͡ģͣõֵģ͡ǿͨԴֵģ͵չһһ֤ Uniform Approachģ޹ԣһֵģͿӦھдֵصĲϵͳĽģͷͨŹ̡ȫЭ顢ϵͳȡϣֵģ͵﷨ǨΪдֵصʵ⽨ģͨšͬȻƣΪģṩӦֵģ͵Ĵ绥ģϵȼ۹ϵȷģ͵ԡɹ۲졢ɢȲԡ 1.4ĽṹķΪ½ڡһΪۣͨŲϵͳĸͨŲ CCSһֶԽģͽиʻչͨ÷ UniformApproachڶʹ Uniform ApproachеķԴֵģͽиʻչõֵģ͡ʹֵģͶԻƼЭ Gossip-Style MembershipЭͨŹ̽ģΪԼĴĽĹ 2ҳ 43ҳڶֵģ Uniform Approachģ޹صĸչǿʹø÷ʻչĽģ͡»ԴֵģͽиʻչֵģǾĽģͣ MILNER R Communication and Concurrencyһ [3]УҲʹôֵͨŲģ͡Ϣķߡߺͨý顪벢ͨŵĸѡֵģ͵һֶ塪The Value-Passing Calculus[13]չ 2.1ֵģֵģͣ Value-PassingCalculusһֿԽĳеֵΪͨŵݣҿض߼ִĳĲģ͡һ [3]еһԪԽܡ桢Ϣ .. ......= ....(..)...(..) ..(..)......= ......(..)...ձĴֵģҲԶ߼жضִضĶͨƽ̵ִСԽ ..(..)Ϊ ..(..)=if ..(..)then ..(..(..))else ..(..) ..(..) ..(..)ʱͨͨ .. ..(..)ֵ .. ..ĺҲ ..޹أ ..(..)ִг ..(..)ֵģ͸˽̴ݵǿ֮ͨ䴫ݵƽ̵ִкͽ̼Ľֿǿ˲ģ͵ıؿӦóͨУͨЭͨ䴫ֵΪͨЭĹ̾ͿԱΪֵģֲ֧ͣıҲԱΪֵģͣ Erlang[14]ֵܶͨʵҲԳΪֵģ͡ 2.1.1 The Value-Passing CalculusԴֵģ͵оܶ඼һһģ (domain model)һ߼ (logictheory)ǽжļṩԪȡֵΧִ ..(..)ʱǻὫ ..(..)жǷжظǣͬģҲὫ ..(..)Ǽظǡ磬 WINSKEL GԪʽȡֵͼȫһ ..[15] LINHһ ..ɲʽжͱʽļ[16]MILNERR CCSչ Value-Passing CCSҲûۺļ̺Ŀж [3]ͨֵģУͨδģֻض¶塣ĴڣЩֵģͱĺʮѣ FU Y The Value-Passing Calculusȡ 3ҳ 43ҳĸһյĴֵģ [13]ģͬʱҲǲĳһӦóͨģ͡ The Value-Passing CalculusеĴֵģ ....Th﷨ԱʾΪ .. =......(..).....|......(....).....|..|..|(..)..|....|!..(..)...|!..(..)... (2.1).... .... ..һ ....ThThǿж߼....һʽͨ Th֤֤α ThԸ ....һ֤Ϊ Th .......(..)һǰ׺ ..(....)һǰ׺ǿ .................ʾ ..........(..)..... ..........(..).....!..(..)... !..(..)...Ӧݹ.......ԱʾΪ (..)(..{..(..).0/..}|!..(..)...{..(..).0/..})ıһ CCS﷨Ľͬ TheValue-PassingCalculusǨ壨 ConcreteSemanticsͷ壨 SymbolicSemanticsֻõ˷壬ǺԾݡ ....ThķǨͼ 2.1ʾͼ 2.1 ....ThķǨУ.. =....... ..ִ .. ..״̬ڷ¿д .. ......䡣еĶ ......={..(..),..(..)|.........,..V..,..T..}{..}......еԪؿ ..ʾ V..,T..Ϊж߼ ThбԪļϺļ [] The Value-Passing Calculusʹÿжһж [17]һͼ걸ֵϵͳ NumericSystem[13]Ϊײģʵֿɼĺַͨʽ Value-Passing Calculusнų 2.1.2 If Then Else﷨Ż ..(..)г If Then Else﷨ If Then Else﷨ʵֵķ֧ڱҲǷǳҪɲ֡ Communication and Concurrency[3]Ҳʹ If Then Else﷨Ȼ CCSĶУ޷ͨ CCS̱ʽ﷨ʵַ֧ƣжԷ֧Ƶʹã£ Bisimulation and Observation Equivalenceж JobShopĽģҲȽ⣬ûϸĶҲûж IfĿжԡ FUY 4ҳ 43ҳThe Value-Passing CalculusУ涨 Ifͨһ ThжĲʽ˵ if ..then ..else ..ԱΪ ....|..... The Value-Passing Calculusж If Then Else﷨Ķ ....Th Proof System If Then ElseıķŻ壬ڱĵĺ½ڻͳһʹЩš ..,.. ......Th 2.1 ..0=0֤ ..0=..0+0=..0+.0=..0+(.....)0=..0+..0+...0=..0+...0=(.....)0=.0= 0 2.2 .... =(.... ....0)֤ ....=(.....0)=(........0)  2.3 ..=....... ..=0֤ ..=....... =(.....).. =..=0 ǿԵõ If Then Else﷨ ....ThĶձ 2.1 If Then Else﷨ձ1 ﷨ ....Th..=if ..then .. else .. ..=(....|.....) ..=if ..then .. ..=(....|...0) ..=if ...then if ..then .. ..=0 2.2ֵģԵĿɼԣдֵʵͨŹ̡ʵĽģͷҲ˸ʵ˼룬 SWIMЭ [18]װϵͳ [19]ǿڴֵģڶЩԡֵصнģͷĿǰѾʹֵģͽģͷ簲ȫ [20]Ӧã Value-passing CCS[3]ϵĸչ[20,21]Ȼ⡣Ϊ˱⣬ǿԽֵģͶ ....ThĻϣ Uniform Approachеѡ ................չʽ 2.1 ....ThĶ塣ǿԵõֵģͣRandom VPCΪ .....ThĶ壺 ..=............. ....................(..).. ......!..(..)....!..(..).... (2.2).... ....У 2.1.1жһ..........ThΪжһۡѡ ................У0<....<1,........=1..=................ζ .. ....ĸ¾ڲ .. ....״̬ .......ThΪ .....Th ..ļϡ 5ҳ 43ҳ 2.1.1 ....ThķĻϣӶѡӵǨƹǿԵõֵģ͵ķ壬ѡΪ .ò¿ִУѡҲҪضִУǿ ....Thеӣõ ..(................)ͼ 2.2ֵģ͵ķǨ ....Thǰ׺ӵǨƹ ................. ........ ....ϴ˷ȷѡ񣬼 ....µ .... ....״̬Ƿȷģǿͨ Uniform Ap.proachķչΪһѡ񣬼ڸ ....» ....µ .... ......................... ............... ....Ϊڸ ....£ǻᾭһڲ ..һ .....Th״̬ : ............. Th .....һ Th£....Ϊ棩ǿԾ .... .....Th״̬ .... ....{..(..),..(..).....,..V..,..T..}{..}. .....Th ....ThĻչǰ׺ ..... ..(0,1) ..=..... .....ThǿΪ ..1.....ʱҲ ..=................Ķ壬ʱ ..={1},..1= 1,..1=.. ....ThеĴڲͬǿԵó 2.4 2.4 ....Thһ .....Th 2.3ֵģеĻģϵ 2.3.1ģϵ۲ȼ۵Ļǽ̵ĵȼԡȼ۹ϵΪ ..Ƿǿռ ..ϵĶԪϵ ..ԷġԳƵġݵģ .. ..ϵĵȼ۹ϵоȼ۹ϵĿ 6ҳ 43ҳڽеԪؽз࣬ѡȡÿĴԪĸӶȣʱõȼѡ [22]ͨŲϵͳȼ۵Ķ֤кܶоģȼΪṩЧۡ CCSʱ MILNERR˹۲ȼ (observation equivalence)ģ (weak bisimulation)[3]vanGLABBEEKR WEIJLAND Wķ֧ģ (branching bisimulation)[23, 24]Ҳʮоڸģ͵ĵȼԣĿǰжȫʽģͣѡȷѡĽģ͵ģ⼰֧ģо[25]״̬ĸʽģ͵о [26,27]ȡUniform Approachڷ֧ģ [23,24]Ļϸ RCCS֧ģϵĶ壬Լȼ۹ϵͬԵ֤ RCCSķ֧ģ CCS֧ģչ CCSķ֧ģ⡣........ϵķ֧ģĶ£ 2.1 . ........ϵĶԳƹϵ ..,..........,.....㣺 .. .. ..=.. ..... ..,..ʹ .. .. .. .. ..........塣..  .. .. . ........һ֧ģϵڲ ..״̬ǨƿԳΪ̬Ǩơ . ........ϵһȼ۹ϵ ....  .. .....ʱǿдΪ .... ...䣬 .. .. .....ʱǿдΪ ..... ...䡣 UniformApproachУֶΪ״ֵ̬ľ̬Ǩƣstate-preserving silenttransition  .. ..Ӧģ .. .. .....Ϊ״̬ıľ̬Ǩơ..Ϊ .ıհ Uniform Approach RCCSķ֧ģ漰ȼۼĸȿ CCSȼۼĶ壺 2.2Ԫϵ . ........ϵĵȼ۹ϵ ..ڵȼ۹ϵ .ĵȼۼд [..]. ..[..]. (..,..). ..[..]. ......../.ʾ ........ .ĵȼۼļϡ ................Th.......ThϵĵȼۼĶ嶼Ƶģ˲׸˵ȼۼĸǿԽ֧ģʽΪ 2.3ʽ 2.3 . ........ϵĵȼ۹ϵ⶯ ..,....ȼۼ ........../.,.. .. .. [..]. ......... ...... . ........ϵķ֧ģϵ 2.3붨 2.1ȻͬģǶ 2.3õĽʾ˷֧ģĺ˼룺һϵ״ֵ̬ľ̬ģ״̬ıľ̬ת֮໥ģ⡣ǵ RCCS CCSĻ˸ѡ״ֵ̬ľ̬Ǩ .. ..Ļ .. ....  ..... .....,0<..<1ĿܣΪ ..ķʽʾ־̬Ǩƣ UniformApproach˵ȼ Epsilon Treeĸ[11]ѡΪķ֧ڵ ..Ĺڵȼ۹ϵ .ĵȼϵڵ .. [..].ͬʱ Uniform ApproachǨƣ..-Ǩ (..-transition) ..-Ǩ (..-transition)ֱʾȼϵĽڵǨƵȼۼ͸ʣUniformApproachжĸʰ֧ģǶ ..-Ǩƺ ..-ǨƵ໥ģ⡣ 2.4 (..-Ǩ (..-transition)) ..  .......... .. .  ........../..  [..]. ..-ǨƱʾ ..ڵȼ۹ϵ .ĵȼϵÿһҶӽ .. .. .. ..  .,..  ..д .. ..... 7ҳ 43ҳ 2.5 (..-Ǩ (..-transition)) .............Ϊ ..........ϵĵȼ۹ϵ..Ϊ ..ڵȼ۹ϵ .ĵȼϵÿһҶӽ㣬.........../.,.[..]. P(.....[..]...... = ..........}. .) {....|.. ...... . .)/(1.P(.....[..]...... P.(.....[..]........)=P(.....[..]...... . [..].)) P.(.....[..]...... = . ..-Ǩơ. .) ..ʱΪ .... ..ڿ Uniform Approachж RCCSķ֧ģϵˣ 2.6 ..........ϵĵȼ۹ϵ .㣺 .. .. . .................../.,......[..]. ........ .. . .................../.,......[..]. ......ȼ۹ϵ .Ƿ֧ģϵ ....Th CCSҪǰ׺ӺӣҲǴֵĽģǴֵĽģ͵Ҫ𡣶ǰ׺ӣƵĶ廥ģϵǱȽ׵ģֻҪ֤ͨһ¡ֵһ¼ɡӸģĶ鷳磺 ..=..(0)... ..=((..=0)..(0)...|.(..=0)..(0)...)ڹ۲ӦһµģӦ÷֧ģ .. ....(0) ..=0.. ....(0)...Ķ ..ܡ ....(0) .(..=0)....ȴӦģĶҪ .... ..(0) ..(..=0)..ͬģ .. ..(0)...=0.. .. ..(0) ....Ϊ HENNESSY M LIN HΪֵģ˷Ǩͼ (Symbolic TransitionGraph)ͷŻģ (SymbolicBisimulation)ĸ[28] TheValue-PassingCal.culusУFU YҲ ....ThķŻģ[13] 2.7 (Żģ) .һ ......ThϵĶԪԳƹϵ .....ʱ .һŻģϵ . .... .. ..䣬 ..Ļ {....}....ͼ {.. ..... ....}.... .....Th . ........................ ............... ...... ......Th .........................䡣.. . ....(..)....䣬 ..Ļ {....}....ͼ {........... ..(....)......} Th .(....... ........)(.......=....) (...............)(...............) . ....(..) ..Ļ {....}....ͼ {....... ..(..) ......} Th .......... ...... ........ (...............)(...............)ģϵȫΪ ...ThݷŻģĶ壬ǿԽǰӴ鷳ǿ֤ͨһ㡣 2.1֤ ..=..(0)... ..=((..=0)..(0)...|.(..=0)..(0)...)ǷŻģġ֤ȼ۹ϵ .={(..,..)}ȡԣ ΪԵȼ۹ϵĿȼ֤ .һŻģϵ ....(0) = =0)}ͼ {.. ..(0) ..(..=0)..}... .Ļ {(.. 0),.(.. ...=0..,.. ..(0) (..=0)...(..=0).. .. ..(0) ...=0..֮Żģ⡣.. ..(0) ...=0.. ....(0) ..(..=0)..ͬ 8ҳ 43ҳ2.3.2ȼ 2.3.1ж 2.7ж ....ThķŻģϵǹ۲ ..(..) = (..  5)..(s(..)).0) ..(..) = (..  3)..(s(..)).0 ....ThķŻģĶ壬׵õ .. .. ...3 0Ϊ 3 < .. < 5ǲŻģģ ..(..) ..(s(..))һֶ ..(..)޷ɵģԲ ..  3Ļ֣ʹ ..(..)ԸһǨƵļģ ..  3 ..(..) = (.. > 5)..(..),..(..) = (.. > 5)..(..)ǿԵõ ..(..) = ((.. > 5)(..  3))..(s(..)).0 = (.. > 5)..(s(..)).0ͬ ..(..) = (.. > 5)..(s(..)).0 ..(..),..(..)ǷŻģ⣬ǾԵȼ۵ġ (..>5)..(..) (..>5)..(..)ֹϵǸȼۼĶ壬ʹȼۼڲĳ͸ 2.8 (ȼۼ) ..,..  .......Th. .....Thϵĵȼ۹ϵ .........䣬 ..[..]...[..]...Ϊȼ۹ϵ . ..° ..ĵȼۼ .......Th/...ʾ .....Thڲʽ ..͵ȼ۹ϵ .ȼۼļϡ ....Th .....ThȼۼĶͬ ....ThȻ ..(..)  [..(..)](..>5). .=...Th .һԣĲΪ .ִеģ .Կǿ 2.5 ..,........Th ..... ..Բʽ ......... ....Th Th֤ ..ִеĲ....ҲжӦİ汾 . .... ....䣬 ...... ......䡣 . ....(..) ......(..).... ...... . ....(..) ......(..).... ...... ......(..) ..... ..֪ ..Ļ {....}....ͼ {....... ..(..)...... ...... Th .. ....}.... Th ....................... ................. ........䡣Ҫ֤ ....... ....ǿԹThȼ۹ϵ ..Th={(....,....)|(..,..)... }֤ Th..ǷŻģģTh ..,..Ϊ ......Thͨ .. ... ..ǿԵõ {......}.... ..,.. ........ = ͣ ThԵõ (......)(......)=ͣ ......... =.............=.... {......}....Ϊ ....Ļ֡ǻԵõ {.... ....... ..(..) ....} Th . ...... . ..........䣬 .... .. .. (........,..........),(........,..........)  ..ǿ {.... ....... ..(..) ....}ģ .... .. .. ......(..)......䡣ԳƵһߺ֤Ƶġ  2.6 ..,.......Th. .....Thϵĵȼ۹ϵ..Ⲽʽ ..[..]. ..[..]... 2.6ԼΪһ .....Th³ĵȼۼȼۼĽҲԸһ򵥵֤֤ ..,.. .......Th....(..)Ϊ ..еɱԪļϣ ..Ϊ ....(..)ȫȡֵļϣ ....(..)ÿһֵ ....ǿԵõһɱԪĲʽ .... 9ҳ 43ҳ. Th ...........=.....=...... . Th ...........=0=......  .ƹ㵽ʽǿԵõΪ㷺Ľۣ 2.7 ..,........Th ....... ....Բʽ ..,Th ............. ....Th Th 2.8 ..,.......Th. .....Thϵĵȼ۹ϵ..Ⲽʽ ..[..]...ڲʽ ..,Th ........[..]... 2.9 .........Th..ڲʽ ..͵ȼ۹ϵ .ĵȼۼΪ ..=[..]... Th ........ ...ĵȼۼ [..]... ..ĳԽ [..]...Ϊ [..]... 2.9 2.8ó ..(..) 2.7 ....ThĻģĶ壬۲춨 2.7е .. ..(..) {....... ..... ...........}ģ⣬ (...............)(...............)ȼۼĶ壬ǿԵ .. ....[..].......[..]... ....... ......... ..ô ....... ....[..]...ʵҲ Th Th״ֵ̬ľ̬ǨơǸչ .....Th״̬־̬Ǩƶ ...... ........ ..(0,1)ʾʵ״ֵ̬ľ̬Ǩơϣҵ .....Th .ķʽ״ֵ̬ľ̬Ǩơǿʹ Uniform Approachеȼķ̻״ֵ̬ľ̬Ǩƣ .....ThгΪȼڶȼ֮ǰȹעһ޹صľ̬Ǩ 2.9 (̬Ǩ) .........Th, ..ľ̬Ǩ ..¶壺 .ÿһڵ㶼ǳ .......Thһ..Ǹڵ㡣 .ڵı߱ǳ (..,..) ..(0,1]..һʽһ ..䵽 ..߱ǳ (..,..)ʾ ..........塣̬Ǩ״̬ıľ̬Ǩƺ״ֵ̬ľ̬ǨƣȼҪضµ״̬ıľ̬Ǩƽм֦ 2.10 (ȼ) ..һʽ . .......Thϵĵȼ۹ϵ .........Thʱ ..ľ̬Ǩ ..Ϊһ ...ȼ ...-tree) ....... (1) ..ϵнڵ ....[..]...±Ϊ .... (2) ..ı߱Ϊ (..,..) Th ...... (3) ..,.. ..ϵĽڵ㣬..(..,..) ......[..]........,..[..] ..,..(0,1) .....[..] ..ϵĽڵ㣬 ..ҽ ..1,,.... ..ӽڵ㣬Ҹ (2) Th ...... (4) ..,.. ..ϵĽڵ㣬 .. (..,1) .... .. .. ..ҽ ..һӽڵ㣬Ҹ (2) Th ......  ..ȼʵǸʵ״ֵ̬ľ̬ǨơӶϿȼĶȽϳǿԿȤӣ 10ҳ 43ҳͼ 2.3ͼ 2.4 2.2 ..(..)=(..>5)(12.....(..).21.....(..))|(..5)(13.....(..).32.....(..)) [..(..)].=[..(..)].= [..(..)].ǿԵõ ..(..)ľ̬Ǩͼ2.3..(..) (..>7).ȼͼ2. 4 ..(..)...... 2.3 = (..3)(13...(..1)..(..).31...(..2)..(..).13...(..3)..(..)) [..(..)].1=[..(..)].1..(..),..(..).....Th Th =PA[cite] ..(..)ľ̬Ǩͼ 2.5 ..(..)еľ̬Ǩơͼ 2.5ͼ 2.6Ϊ Th ...(..3)..(..) ..1-treeֻһڵ ..(..)ͬ..(..) (..>3).1-treeֻһڵ ..(..) ..(..) (..<2).1-treeͼ 2.6 Th .(..<2).(..3) (..<2)(.. 2)..(..)=(..<2)..(..)..(..)[..(..)].1 2.6(..2)..(..)[..(..)](..<2).1һ 2 3..֧ͬʱ (..<2)..(..).[(..<2)..(..)](..<2).1ڲǿԽڵͱ߶Ϊ״̬޹ء 2.4һ̫е¿ϵͳÿһʱĿ 21ͨڲԶУ׼ϵͳ (̬Ǩƣ..)޸ڲһʱÿʱ䣨 ..ͻ ..ͨ㲥¼õһ¿壬¼õ¿ñԪ ..ʾ¿ϵͳԱΪһ .....Th ThΪ PAǿ ..(..)ʾϵͳ ..(..)......= .....(12......21.....(..)...) ..(..) .2ĵȼۼ [..(..)]..2=[..(..)...(..)]..2..(..) ..2-treeͼ 2.7 2.5 2.4¿ϵͳµĥʧޣÿԶУ׼һͻñԪ ..ʾ ..>1ſԲţ ..0ʱ¿ϵͳ޷ˡΪ˷㽨ģ p(..)=...1ʾУڽԼѵĿǣֻҪ¿廹칫 (..>3)ͿԼʹãڵ¿ϵͳȻһ .....Thǿ޸ĵ ..(..,..)ʾϵͳ ..(..,..)...... (..>3)(1 2...((..>1)..(..)...(..,..))) = 2...((..>0).....(..,p(..))|.(..>0).....(..,..)).1 ..(..,..) (..>3).3ĵȼۼ [..(..,..)](..>3).3 =[..(..,..)](..>3).3 =[..(..)...(..,..)](..>3).3 ..,..,..岻һȡ ..(..,..) (..>3).3-treeͼ 2.8 11ҳ 43ҳͼ 2.7 ͼ 2.8 2.3.3ֵģ͵ķŻģⶨ˸ʵ״ֵ̬ľ̬Ǩƣڿ Uniform Approachķõ .....ThķŻģ⡣Ҫֵģ ..-Ǩƺ ..-Ǩơ 2.11 ( ..-Ǩ (....-transition)) .........Th,........Th/...\{[..]...} ..һʽ . .......Thϵĵȼ۹ϵ ..ȼ .......Ҷӽ .. .. .... .....,....Ϊ .. .. . ....-Ǩƣ ......... 2.12 ( ..-Ǩ (....-transition)) .........Th,.(.......Th/...)\{[..]...} ..һʽ . .......Thϵĵȼ۹ϵ .......ÿһҶӽ ..Ͳʽ .. ..........................[..]...., ....,..... Th ........ P..(........................)={..........................Th ........} P..,...(........................)=P..(........................)/(1.P..(.......................[..]...)) .. . P..,...(........................)=..ʱ .. .. . ....-Ǩơд ........ŻģʵǱ֤ .......Thϵĵȼ۹ϵ ..-Ǩƺ ..-ǨƵĻģ⡣ 2.13 (Żģ) .һ ..........ϵĶԪԳƹϵ .....ʱ .һŻģ (Symbolic Bisimulation) 12ҳ 43ҳ..(..) ..(..). .. .... .. .. . [..]... ..Ļ {....}....ͼ {.. .......... ..  [..].....}ʹö ....Th .......... ..(..). ..(... ..).... . .. ...... .. . [..]... ..Ļ {....}....ͼ {.. ...... ..  [..].....}ʹö ....Th .(.........)(.....(..=....)) . ........ .. .. ../.,.. [..]... ..Ļ {....}....ͼ {.. .............. [..].....}ʹ ........=.. RCCSķ֧ģԿõȼģȼ .....ThķŻģԿǵȼɭģȼǿԸȼɭֵĵݹ鶨塣 2.14 (ȼɭ) .. .......Th. .......Thϵĵȼ۹ϵ ..һʽ ..һ {....}...... ...ȼɭҽ .. .....ȼȼɭ֣....֤ .......ThŻģʱͨԹһиĵȼۼ֤õȼۼһŻģϵһ .......Th ..-Ǩƺ ..-Ǩʱǿȹľ̬Ǩ 2.6ѧУ𿴹豸ʦ 2.5е¿ϵͳʵֻ ..5ʱܱнҵͬѧΪ˲ΥУľͬʱͬѧǶ¿壬 (..<5)ʱԼĵͨ ..ͨ¿壬ʱУΪ¿ϵͳ޺ó 2.4е¿ϵͳһֱʹ¿塣УĸоǴʱ豸ʦ 2.5е¿ϵͳһ .....Thǿ ..(..,..)ʾϵͳ ..(..,..) =(21...((..>0).....(..,p(..))|.(..>0).....(..,..)). 21...((..>1)..(..)...(..,..)|(..< 5)..(..)...(..,..))ֻҪ֤ ..(..) ..(..,..)Żģ⼴ɡ֤ȼۼ ..={(..(..),..(..,..)), (..(..),(..>0).....(..,p(..))|.(..>0).....(..,..)), (..(..)...(..),(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..)), (..(..),..(..,..))|....} .. ..ȡֵΧֻ֤ ..һŻģϵɡ . ..(..)...(..) (..>1)..(..)...(..,..)|(..<5)..(..)...(..,..) (..=..)..ĵȼֻһڵ㣬ڲ漰ʣʵʿʹ ....ThķŻģ֤ ....Th .....Th˴Ȼʹ .....ThķŻģ֤ ..(..). ..ÿһֵ ......(..)...(..).(..=..)...(..=..)..(..)ǿԵõ (..=..)һ֣(..=..)=((..>1)(..=..))((..1)(..=..))ʱڼ {(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..).(..=..)(..>1)....(..)(..>1)..(..,..),  13ҳ 43ҳ(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..).(..=..)(..1)....(..)(..<5)..(..,..)}ģ Th .(..=1)(..1).(..<5) Th .(..=..)(.. 1).(..=..)..(..,..)[..(..)](..=..)(..1)..(..=..)(..>1)ͬ . ..ÿһֵ .... ..(..)(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..).(..=..)(..>1)..(..=..)(..>1)..(..,..)棬ڼ {..(..)...(..).(..=..)(..>1).....(..)(..=..)..(..)}ģ Th .((..= ..)(..>1)).(..=..)Th .((..=..)(..>1))...=..䣬..(..)[..(..,..)](..=..)(..>1).. ..ÿһֵ .... ..(..)(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..).(..=..)(..<5)..(..=..)(..<5)..(..,..)棬ڼ {..(..)...(..).(..=..)(..<5).....(..)(..=..)..(..)}ģ Th .((..= ..)(..<5)).(..=..)Th .((..=..)(..<5))...=.. ..(..)[..(..,..)](..=..)(..<5).. . (..(..),(..>0).....(..,p(..))|.(..>0).....(..,..))һԵȼۣϵҲǳ ....Th֤˴׸ . ..(..)ľ̬Ǩͼ 2.9..(..,..)ľ̬Ǩͼ 2.10ͼ 2.9 ͼ 2.10 1 ..(..)....2 .[..(..)...(..)]...ڼ 1 {..(..,..)....2 .[(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..)]...}  Th .(...) 21= 21(..(..)...(..),(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..)).. 14ҳ 43ҳ1 ..(..,..)....2 .[(..>1)..(..)...(..,..)|(..<5)..(..)...(..,..)]...ǿԶԳƵ 1ü {..(..)....2 .[..(..)...(..)]...}ģ⡣ 1 ..(..,..)....2 .[(..>0).....(..,p(..))|.(..>0).....(..,..)]...ڵȼ۹ϵдԣ..(..,..)[(..>0).....(..,p(..))|.(..>0).....(..,..)]... =[..(..,..)]...ǿԵóУжȷġ  2.6һ򵥵ӣͬһϵͳֲͬʵ֣ʵ۲ߵӽЧͬģй۲ȼԡŻģ۲ȼṩϸĿ̻Ϊ۲ߵ۸оṩ˿͹ݡ 2.4ֵģ͵ĵȼ 2.3.3Żģ .....ThĹ۲ȼԣǿͨŻģⶨֵģ͵ĵȼԡ֤Żģϵһȼ۹ϵ֪һȼ۹ϵӦԷԡԳԡԡݶ 2.13׵õŻģԷԺͶԳԣǽ֤ŻģĴԡ 2.10Żģдԡ֤֤ŻģĴԵȼ֤ .һŻģ⣬ .....,..... ..... . ....................../...,..[..]... .....ݶ ..Ļ {....}....ͼ .. ={.. ............ [..].....|Th ..... .....}.... .. .....ȼ .........ϵĽڵ ..Ϊ Th .......... ..........[..]..... ..........[..].....˴ڼ ..={..............[..].....}....ݶ 2.13..ҲΪ .......... ............/...,..[..]...ģ⡣ .....ÿһ .............. [..].....ݶ ....Ļ {....,..}....ͼ .. .. .... = {.. .....,.......,.. [..]....,...|Th . ....,.. . ....,..}....ͼ .... = {.. .....,.......,.. [..]....,...}.... ..Ļ ......=.....{....,..}....ͼ ..=.........䣬ʹ ..Էģ ..ԳƵ֤ȫһµġ . ........ ............../...,..[..]...,..(0,1] ..... ..Ļ {....}....ͼ {................[..].....|Th ............=....}˴ {................[..].....}ģ .. ..-Ǩƣ² ..-ǨƵ֤ͬ ֤˷ŻģĴԺǿԵõ 2.11 2.11Żģϵǵȼ۹ϵϣͨŻģⶨ .....ThĹ۲ȼԣһֱȽֱӵ뷨ǽ .....ThķŻģȫΪ .....ThĹ۲ȼԣҪ֤ŻģϵȫȻǷŻģϵ 15ҳ 43ҳ 2.12ÿһ .......ThϵĹϵ ...ǷŻģϵô (........).ǷŻģϵ֤ .=(........). ..0...1..1...2..2.....1......... .=(........).ǿԵ ..1..... .һŻģϵ ..-Ǩƣ..0.................Th,.. [..0]... ..Ļ {....}....ͼ {.... ............ [..].....|Th ..... .....}ģòǿͨɵ֤ ..0...1..1ģ ..0; ..1...2..2ģ ..1֤ ....ģ ..0 ..0 ........ ..  .......Th,..  [..0]...Ҫ ..Ļ {....}....ͼ {..1............[..].....}ģ ..0Ķ ..0.................Th,..[..0]...ɵȼۼĶ壬ǿԵó ...ϵĵȼۼ ..Աֳɲཻ .....1ϵĵȼۼ {......1} ....0 ..0 ...ȼǿԵݹĹ ..1 ...ȼɭ֡ . ....0ĸڵ ..0ֻһӽڵ ..0 ..0[..0].....1ǽ ....0Ϊ´εݹĸڵ㣬 ....1ȼɭ֣ݹΪ ..1 ...ȼɭенڵĶ ....1 ....1ǵȼ۵ģ ..0.[..0].....1 ..0...1..1 ..ǿԵõ ..Ļ {....}....ͼ {..1........1....[..].......1|Th ..........}.... .. 2.10֤飬ʵ {..1 ........1.... [..].......1}....ģ ..0 ...... .. ..  .......Th,..  [..0]...}....Ϊ˷֤֤ǽֱ ..ʹ {..1........1....[..].......1}....ʽ .. {..1........1.... [..].......1}....ʵʹһȼļ {......1}....ÿȼ ......1Ҷӽڵ .... .. .... ..  [..0].......1Ǹ ......0ÿһ ...... .....ĵȼɭ֡ʱ ..ڵ .....ȼ ......1Ʋÿ .. .....ĵȼɭеĵȼǿԵõ ..1 ...ȼɭ֡ĸڵ ..0 .ӽڵ ..10,,...0ݶ ..0 ...[.]...... 0..0. ........00ı߱Ϊ (..,....) .....  .....[.].... ....0[..0].....1ǽ ....01 ....1ȼɭ֡ .. ....0.[..0].....1Ϊ ..10 ..0......1..[..10].....1 ..0...1..1ǿ ..Եõ ..Ļ {....}....ͼ {..1........1....[..10].......1}....йϵ ..1 (.. ...[.]...... .......1ȼ ....1 ..-ǨƵĶ壬 P....,.......1 . ...... [..10].......1)=..Ǹ ......10ÿ ...... .....ȼɭ֡ . ....0ĸڵ ..0 ..0 .... ..䡣ݶ ..Ļ {....}....ͼ .. {..1........1....[..].......1}ݹĹͨͼ 2.11ıͼ 2.11Уһ˸ڵֻһӽڵĹÿһ ....ҲȼḴһݣȫ ..ȼ ...ȼɭ֣ {..1........1.. .... [..0].......1} ..0.....1 ..0ģ⡣ ..ڶ˸ڵжӽڵĹÿһ ..0......1..Ҳ 16ҳ 43ҳͼ 2.11ݹ鹹ͼ ..ȼḴһݣڶÿһ ..0......1..[..10].....1ģʱģöļ .. {..1........1....[..10].......1}....еÿһԪضһȼٽжӦģ⡣ͨʽջṹ ..1 ...ȼȼɭ֣ģ ..0.................Th,..[..0]...ɵأǿԹ ..2 ..1 ...ȼȼɭеÿһȼǨƵȼɭ֡չ ....ģ ..0.................Th,..[..0]...ȼɭ֡ ..-Ǩƣ..0...... ....֤ͬġ ϣŻģϵȫΪ .....ThϵĹ۲ȼԣԻ⣺ .........Th .. ...µȼģûҶӽڵ㣬磺 ..(..)......= (..(..).0|..(..)|..)\{..,..,..} ........ ..(..)...... 1=..(..)...(..) = 2.....(..)....12.....(..)... ........ ........ = ..(..)...(..) = ..(..)...(..) ..(..)...... ..(..)...... = ..(..)... = ..(..)...ȼ۹ϵ [..(..)]. =[..(..)|..|..]. =[..|..(..)|..]. =[..|..|..(..)].ʱ ..(..) ..ȼͼ 2.12ڹ۲ȼԵĽǶȣΪ ..(..) ......= .....(..) ..(..)Ӧǹ۲ͼ 2.12 ..(..) ..ȼģģȻʱҵ ..(..) ..תƺ ..תƾͻѣ Uniform Approachе codivergentظ⡣ 17ҳ 43ҳ 2.15 .........Th .. ...µȼΪ .. ..ķ֧ .. ..Ӹڵ㿪ʼҶڵһ· ..(..)Ϊ֧ ..ϵ ..ߵıеĸʲ֣ ..(..)(0,1]֧ĸ P(..) = {..(..)|..  [|..|]}֧ģ P(..) = lim..ޡ..=.. ..=0..(..)ȼĸ P(..)={P(..)|....һ֧} ..ǰ ..֧ĸΪ P..(..)={P(..)|....һ֧|..|..} ..޳֧ĸ P..(..)=lim..P..(..)ȼ ..޳֧ĸ P..(..)=0ʱ..ΪɢȼǿΪ ..û޳ķ֧ͨ 2.15Ƕʹ÷ŻģϵȫΪ۲ȼʱʹùɢ (codivergent)ĸȼĹ۲ȼԵ塣 2.16 . .......Thϵĵȼ۹ϵ.һɢĵȼ۹ϵҽеĲʽ ..ȼۼ .........Th/.....еÿһԪع ...ȼɭеÿһǷɢĵȼ ..еÿһԪع ...ȼɭеÿһǷɢĵȼ 2.17 .......ThϵĹ۲ȼ =.....ThΪ .......ThϵĹɢķŻģϵȫ =.....ThȻһŻģϵǿԵõ 2.13 2.13 =.....Thһȼ۹ϵѧرǳУͬϵͬĳĵȼ۹ϵ ..=<..,.,..>һϵͳ . ..ϵĵȼ۹ϵ . ..ϵ¶ǿɱֵģ .Ϊϵͳ ..ϵͬϵ[29]ͬϵʹԪڵĵȼϿΪһϣ֤Ƕ =.....Thһͬϵ 2.14 =.....Thͬԡ֤ =.....ThѡͷȷѡĿɱԱȽ֤ 2.7֪ ..=.....Th .. ....=.....Th ....Ϊ֤ =.....ThΪ =ԵȼԼΪ ...... ԣΪ =ڱػӣ Localization ..=..,(..).....=....(..)...[(..)..]..=,.....֪ ..Ļ {....}....ͼ {(..).......=......[(..)..]..=}ڲӣ Compositionǵȼ۹ϵ ....... {(..|..,..|..)|(..,..)=,(..,..)= = } .=(.=).֤ .һŻģϵ ..-Ǩƣ(..|..)........ .. .......Th/...,..  [(..|..)]...䣬ǿ 2.12еķݹĹ (..|..) ...ȼɭģ (..|..)Ķ ..(..|..)Ϊ (..|..) ...ȼ . ..(..|..)ϵıߣ..|..(..,1) ....䡣 ..|..,Th ...... .. ..  18ҳ 43ҳ .. [..]..=ô (..|..)[(..|..)]... [(..|..)]...䡣ʵϣ .. ............. ......... = ......|..  [..|..]...䡣ǿԸ ..(..0|..) ...ȼ (..|..) ...ȼɭ֡ .. .. ...[..]..=ôݶ {.......=........[..]....=}....ģ .....=....䣬 {....}.... ..Ļ֡Ǹ ......乹 ........ .....ȼɭ֡ ... ..,.. ..(..). ..(..|..)ϵıߣ ..|.. (..,1) ..|..,Th . .. . .. .. ..(..) ... ..,.. = ....塣 ..(..) ..(..) ..=..,.. =.......=..... {.......=.........[..]....=}....ģ⣬ ..(..) ..(..) {....}.... ..Ļ֡ .. ...=..... {.......=..... .... [..]....=}....ģ⣬ {....}.... ..Ļ֡е ..  ..,..  ..,Th . ........ . ͣ(.... . ....)  [.. . ..].........䣬Ǹ ........(..|..) .........ȼ ........(....|....) .........ȼɭ֡ . ..(..|..)ϵıߣ..|.. (..,..) ..|..,Th ......,..(0,1) .........................е ......|.. (..,....)....|..,Th ......е ..  ..,....  [..]..=ǿԸ (....|..) ...ȼ (..|..) ...ȼɭ֡ ..0 .....[..]..=Ϊ ..0 ..1.[..]..=..1[..0]..=ʱ .....=.. [..0]..=.....=..1..[..0]..=..|.....=...0+..1..[..1|..]..= ..=.. ..Ļ {....}....ͼ {.......=..0........[..0]....=}ģ .....=..0.. [..0]..= ..Ļ {....}....ͼ {.......=..1.... .... [..1]....=}ģ .....=..1.. [..1]..=е ....,....,Th ..........ͣ (..|..).........=...0+..1........ (..|..) [..0|..]........=Ǹ ........(..0|..) .........ȼ ........(..|..) .........ȼɭ֡ . (..|..) .... (..|..),..  .. .. .... ..䣬ݶ ..Ļ {....}....ͼ {..|.......=......[(..|..)]....=} ..-Ǩƣ(..|..)...=.. ....֤ͬġ֤У (..,..)= .. ..=ȼǷɢģݶ֪ ..ӦȼɭеȼҲǷɢģǿԸͬչ֤ɢӵͬԡ  2.5Сǽһ־Ĳģֵ͡ӣ The Value-Passing Calcu.lusһʵ ....ThǷ ....ThԱֵģ͵ơһյģͣ˾кǿıǵ ....Thƺͱ ....ThĻϽиչֵģ͡ȣʹ Uniform ApproachеķΪ ....ThѡӣչΪֵģ .....Thֵģ .....Th﷨Ǩ塣ΣΪ˸ .....Th۲ȼԵĶ壬ǽ˷֧ģ⣬ Uniform  19ҳ 43ҳApproachõ֧ģ汾ĹؼǽǸʵ״ֵ̬ľ̬תչΪ˸µ״ֵ̬ľ̬תͬʱ ........еĵȼۼŻģĸ .....Th漰ӣǲֱʹ Uniform ApproachеչǽȼۼĸչΪȼۼο Uniform Approachеȼĸ .......ThȼΪ˽ӵ⣬ǻȼɭֵĸʹȼɭģȼ˼롣ʹȼĸ .......ThķŻģϵĶ壬ҲǷŻģĸʰ汾Ϊ˽޵ȼ޷õŻģϵ⣬Ǹ Uniform Approachɢĸ .....ThϹɢĶ壬ǽɢķŻģȫΪ .....ThĹ۲ȼԣ֤ .....Th۲ȼһͬϵ 20ҳ 43ҳֵģ͵ӦǰֵģͿڶͨЭʽ̻ǿʹֵģͶԵͨЭʽ̻ʹֵģͶԻƼЭ Gossip-Style MembershipЭͨŹ̽нģģʵ֡ 3.1 Gossip-Style MembershipЭ 3.1.1 GossipЭ GossipЭ飬ҲΪЭ飬ȾЭ (EpidemicProtocol)һڴȾʽĵԵͨЭ[30] GossipЭԱΪ칫ԵĴÿһְԱһְԱԣߵ֪Ժĺ˷һηУ߻Ѿ֪ԡһ죬СԴϰһҥԣһλʱҥԸСǮСǮ֪ҥԺһλССһλСʱСѾС֪ҥԡ GossipЭҪڷֲʽݿϵͳиڵ֮ͬãֳһصɵĽڵ㶼ǶԵȽڵ㣬Ƿǽṹ硣 2015֮ǰ Bitcoinʹ GossipЭϢ[31] GossipЭУڵ֮ͨŷʽ֣ . Push Gossip:ϢķԵѡ ..Ŀڵ㷢 Gossip Messageյ Gossip MessageĽڵԸݱʱ䣬Եѡ ..Ŀڵ㷢 GossipMessageڷ͹УѾӵ Gossip MessageĽڵȻԱѡΪĿڵ㡣 . Pull Gossip:ÿڵԵ ..Ŀڵ㷢 GossipQueryյ GossipQueryĽڵӵ Gossip MessageĽڵ QueryĽڵ㷵 GossipMessageĿ . Push/Pull Gossip:ڳ 2..Ľڵӵ Gossip Messageʱ֤ʱѡ Pull Gossip Push Gossipĸ [cite]ʹ GossipЭʱʹ Push Gossip Pull GossipĻϣϢ 2..ڵ֮ǰʹ PushGossipϢ 2..֮ʹ Pull Gossip 3.1.2ԱЭԱЭ (Group Membership Protocolļ MembershipЭ )[32]ΪȺеÿڵṩһصбΪ Membership ListάȺڵϢ MembershipЭṩҪķ .ʧЧĽڵ .Ϣ磺֪ڵʧЧϢ 21ҳ 43ҳ MembershipЭ HeartbeatingProtocol[33],Gossip-StyleMembershipProtocol[34], SWIMFailure Detector Protocol[18]ȡ 3.2 Gossip-Style Membershipʵʹ .....Thʵ Gossip-Style MembershipЭ [34]ΪʹֵģͽģͨŹ̵ʾƵģҲʹͬĽģģʵ⡣ MembershipԿڵڲĹܣǿʵ GossipЭ飬罨 3.2.1 GossipЭʵ PushGossipĻƱȽϼ򵥣ҵһ PushGossipЭȻԴﵽ ..(log..)ʱ临ӶȵϢʹ .....Thģ PushGossipΪͨŻƵ Gos.sipЭ顣ģ GossipЭΪͨŵ Peer-to-Peer SysyemĽڵ㡣ݸ GossipЭĶ壬ǿԴӵһڵԵķϢζҪһʱƣѡڽڵⲿʹüʱԵ֪ͨڵ㷢Ϣڵ ........˿ʱüʱʼ..............˿ڽռʱ timeoutźšڽڵ㱾ʹ洢ϢҪʹ ............˿ڽ P2PϵͳϢʹ .............. P2Pϵͳ紫ݽڵ P2PϵͳдڵյϢʵǸӵģǽÿһԽڵ֮Ϣ·Ϊġͨڵ .......... ..........ϢʱϢ ............,..ͨУ ..........ڵ ............,..˿ڷ ..........ڵ ............,..˿ڽաϢ䷽ʽʵϢ߼·Ϣ·ʮָҶ̬ģǿԽϵͳнڵıż򵥵Ϊ Socketͨе IPַ˿ںţÿһڵĳ̨ϵĳ̡ Gossipڵͨʾͼͼ 3.1 GossipЭΪͨЭĽڵ Peer-to-Peer Sysyemʾͼͼ 3.2ͼ 3.1 Gossipڵʾͼͼ 3.2 GossipЭĽڵ P2Pϵͳṹ Gossipڵ Node״̬¼ֱ֣Ӧ GossipЭнڵ״̬:  22ҳ 43ҳ 3.1ڵ״̬Ӧڵ״̬ Gossip״̬Node ɽϵͳϢ״̬״̬޷Ϣ  DeliveringNode ϵͳ⴫Ϣ  UnInfectiousNode δȡ Gossip Message  InfectiousNode ѻȡ Gossip Message  GossipingNode ϵͳڲض bڵ㷢 Gossip Message ϶Ľڵṹͽڵ״̬Ƕһ GossipЭ P2Pϵͳ ...... .......... = ..............(..)...............................(..) ..............................(..)...... ................(..)...............................(..)= ..............................(..)......=...............( . .........................................,........(..))........PERM.. ............................,........(..)...... ............,........1(..).............,..........(..)........................................(..)= ...... .................................. = ............,..(..)...............................(..)..ʡ N/{..} ...... ........................N = (........1.................................2....................................) \{............,.....N..N....}{........,..............} P2Pϵͳй ..ڵ㣬Ϊ N ={1,2,,..}ÿһӵ Gossip MessageĽڵԵ k(k ...1)ڵ㷢 Gossip Message PERM..Ϊ N/{..}ѡ kԪصȫУ ..permΪһض ........ Gossip MessageĸʣΪ˷㽨ģǼһڵѡڵΪ GossipĿڵĸͬģ 1 (...k.1)! 1..........= ..k = (...1)!Ϊ̶ֵ k =2ʱ..........= (...1)(...2) ...1ǿԿڵ ..........ܵϢ ..ǨΪ ..............................(..)״̬ϢǨΪ ............................)..(..)״̬ڽܵ ..............źʱԸ ..permĸѡ N/{..}ѡ kԪصȫеһ ........ΪĿ꣬ǨΪ ............................,........(..) ........еĽڵ㷢 GossipMessageɺص ..............................(..)״̬һ ........................NУ״̬Ϊ ..............................Ľڵ㣬Щڵڽڵ GossipMessageʱǨƵ ..............................(..)״̬Ϊ˺ķһϵļ裺 (1)紫ɿȻʵе紫ڶӳ١طת⣬ǿͨ ACKԲɿµ GossipЭ飬ǿӶ紫Ĺ̵Ľģģ MILNER R CCSἰ[3] (2)ڵ㲻𻵡ʵнڵ㣨һʱͻ⣬ڶڵ㹹ɵ P2PϵͳڽڵʧЧĸֻ [35]MembershipЭ̽ڵʧЧһַʽ (3)ϵͳֻһϢĴ䡣ڵϢԴĶϢȻԿ GossipMessageһͣڶϢԴǿΪÿڵṩϢл 23ҳ 43ҳϢĶ MembershipĽģṩһϢԴĽ˼· 3.2.2 GossipЭĵȼ GossipЭĿΪϵͳڶԽڵжಥǿԶһಥĹԼ֤ 3.2.1ʹ .....ThʵֵĻ GossipЭ P2PϵͳԼڽУҪ֤߻ģ⡣ 3.2.1ʵֵǵϢԴϢĴڶಥĶֻͬעϢԴϢĶಥ 3.1ϢԴĶಥԼ£ ...... ..........................N = ............1(..)...............1(..).........................N,{1}(..) ........................N,KNOWN(..)...... ................(..).........................N,KNOWN{..}(..),= ..N.KNOWN|N||KNOWN| |KNOWN|ΪѾõϢĽڵżϣڵͨ ..............֪ͨͨϵͳ⣨籾ص̣ڵյϢһڵϵͳͨ ..............ͨϢǽڵ |KNOWN|ʾڵѾյϢ 3.2 ........................NеĽڵܴڣ ........................................................ ................................״̬ǽ ..........................״̬ϲ ............................ں֤бʾȽ߳Ϊ˷֤Ǹض״̬µ ........................NļǷ CompositionӷϽɡ ........................N,(..,..,..)(..) .. ............................................................. =(............................(..)..............................(..) .. ........................................................... .............................(..)..............................(..) .. ................................................................................................................................) \{............,.....N..N....}{........,..............}У ........................N,(..,..,..)(..)ʾϵͳ .. =|N|ڵУ .. ............................(..)״̬ .. ............................(..)״̬ .. ................................״̬ ..+..+.. = ..Ȼʼ ........................NΨһ ........״̬ĽڵʱѾĳϢ ..֤ʵֵĻ GossipЭ P2PϵͳಥϵͳĹԼ ........................N ..........................Nеÿһڵҽִһ .............. ..............˳Ӱ칦ܣǿԹ涨 ...................(..1)... .. ................(..2). ...ǻģĵҽ ..1=..2±Ƿһ²Ҫںĵ֤к±ꡣ 3.1 ........................N =.....Th ..........................NThǿж߼ 24ҳ 43ҳ֤ǿͨȼۼ֤ȼۼһŻģϵ֤ ........................N =.....Th ..........................Nȼۼ ..={(........................N,..........................N), (........................N,(..,0,0)(..),........................N,N(..))} {(........................N,(..,..,..)(..),........................N,KNOWN(..)).|KNOWN|=....}֤ ..еÿһԵȼ۹ϵΪŻģϵ: . ........................N,(..,0,0)(..) ........................N,N(..) ...ȼֱֻһڵ㣬ҲתȼۼǵĻģȻģʵ ........................N,(..,0,0)(..)= ........................N,N(..)=0 . (........................N,(..,..,..)(..),........................N,KNOWN(..)).|KNOWN|=....: . Case1: ..<...1........................N,(..,..,..)(..) ...ȼ ..ͼ 3.3ʾ ..ͼ 3.3 ........................N,(..,..,..)(..) ...ȼ ..Ľڵ ........................N,(..,..+..,0)(..)״̬ʱ״ֵ̬ľ̬Ǩƣ ..ͻֹ ........................N,(..,..+..,0)(..)Ϊ ..Ҷӽ㡣Ȼ ..ϵÿһ ..Ҷ㣬ᾭ .....................................N,(..,..+..,0)(..),....=....1....2......<1 ..Ҷӽ ........................N,(..,..+..,0)(..)..............(..). .........................N,(..+1,..+...1,0)(..) ..............(..)........................N,(..,..,..)(..).... . .[........................N,(..+1,..,..)(..)]... ..+..=..+...1ǿ ..............(..)........................N,KNOWN .... . .........................N,KNOWN ģ״̬ǨơԳƵģȻ . Case 2: ..=...1 . Case2.1: ..=1 ........................N,(...1,1,0)(..) ...ȼ ..ֻһڵ㣬 ..............(..) (........................N,(...1,1,0)(..).... . .[........................N,(..,0,0)(..)]... ..............(..) ........................N,KNOWN .... . .........................N,Nģ⡣ 25ҳ 43ҳͼ 3.4 ........................N,(..,..,..)(..) ...ȼ .. . Case2.1: ..=0 ........................N,(...1,0,1)(..) ...ȼ ..ͼ 3.4ʾ ..............(..)........................N,(...1,1,0)Ϊ ..Ҷڵ㣬 (........................N,(...1,0,1)(..).... . . [........................N,(..,0,0)(..)]...ǿ ........................N,KNOWN ........................N,Nģ⡣ . (........................N,..........................N)ǿ  ..............(..)..... .  ........................N  ............(..)...............(..). . ........................N,(1,0,0)(..)  ..........................N  ............(..)...............(..). . ........................N,{1} ໥ģ⡣    3.2.3  Gossip-Style Membershipʵ  3.2.3.1  Gossip Style Membership Protocol  Renesseһֻ GossipЭĴƣڼȺеÿһڵάһб MembershipListба֪ڵĵַʾÿһ GossipڣڵԼһڵ㷢Լ Membership Listڵյڵ㷢͹ MembershipListὫбϲӦַڵ MembershipListһ ..........ʱûи£ΪһӦĽڵʧЧڱεʵУǹ涨ÿһ GossipУڵѡ ..ڵ㷢Լ MembershipList 3.2.3.2 GossipSystemĵ Gossip-StyleMembershipҪṩ桢 Mem.bershipListĺҪ֮ǰĽڵṹеͬʱϵͳڵĽڵҲʧЧĿܣǿ ..........һڵʧЧĸʣͬʱһ̬Ǩ ..ڵͻᱻ޸⣬ϵͳенڵ㶼ϢԴ Membership Listϵͳвͣĸ£Ҳû˸Ⱦ뱻ȾߵĽɫ֣ҲҪƽ޸ġ Gossip SystemڵĻϣԭⱩ¶ ............,..............ͨ ...................ΪĽڵȡ͸± Membership Listͨ޸ĺĽڵͼ 3.5ʾ 26ҳ 43ҳͼ 3.5 Gossip-Style Membership Protocolڵʾͼ Gossip-StyleMembershipЭе P2Pϵͳ£ ...... ........................ =..............................(1...........)............. ...... ................ = ........................... ...... .......... = ...........................(..).( . .........................................,........(..))........PERM.. ............,..(..)...............(..)......................... +..ʡ N/{..} ............................,........(..)...... ............,........1(..).............,..........(..).................................. = ...... ........................N = (......................1.......................2..........................) \{............,.....N..N....}{........,..............,............,..............}Уÿһڵ㶨Ϊ ......................ÿһʱ ..........ĸʳΪʧЧڵ .............. 1...........ĸʳΪɷбͽбڵ ........ ........״̬Ľڵ㣬ʱ ..............źʱͨ ............ͨȡ Membership ListԸ ..permĸѡ N/{..}ѡ kԪصȫеһ ........ΪĿ꣬ǨΪ ............................,........(..) ........еĽڵ㷢 MembershipListɺص ......................״̬һ ..=|N|ڵĻ Gossip-StyleMembershipЭ P2PϵͳΪ ........................N .. ......................״̬ĲĽڵ㹹ɡ⣬ǻҪÿڵ㱾ص Membershipϵͳ MembershipListĻȡ͸¡MembershipListһΪ 3.2еݡ Addressʾϵͳ 3.2 Membership List Address  HeartBeat  LocalTime  1 2 3  10120 10103 10098  66 62 63 ĵַ HeartBeatʾӦڵ LocalTimeʾ Membership Listһ¼һεĸʱ䣬ǰʱĳһ LocalTime ..........ΪһڵʧЧ 27ҳ 43ҳ MembershipϵͳҪһؼʱ Timerһ Counterһ ...........................(..)..ӦΪһ (Address, HeartBeat, LocalTime)Ԫ飬һ¼صַ ................(..............)ַӦڼʱ DNS䣬˴ķ̣ ....[..............]Ϊȡ AddressֵĲӣ ....[..................]ͬ ..Ϊ MembershipListǶ Membershipϵͳʵͼ 3.6ʾԿʹ ..ͼ 3.6 Membershipʾͼ ...........................洢 Membership Listеÿһ ...................ͨ ..............ͨȡ .............................еݣҲͨ ..............ͨ .............................еݣÿһ ...........................һ Timerȡʱ䣬 LocalTimeֶΣʵϣһڵֻһ TimerҲָ߼ӡ ...........................Ķ£ .............................(........,...,..)......= ..............({......................,.....................})..............................(........,...,..) +..............({......................,.....................}).........(..)..............................(........,...,..) .. ...........................ɵ ...........................£ڳʼ״̬ʱÿһ ...........................еΪ (..) ................................. (...........................1(..) .............................(..)) =.⣬Ƕһ ..............ά͸½ڵÿһ Gossip ... = ...+1...................ͨ .................ͨȡ ..............(...)...... .................(s(...))...............(s(...))=  28ҳ 43ҳڽڵ㱾صַάǶһ ...................................ͨ ..............ͨȡصַ ................(........)...... ..............(........) =ϵĸߺǿԶ ...................߼ˣ ......................... ..............(........)..................(...).............1(..1)..............(....).= ............({......................,.....................},..1,,....).................... +..............(..1,..2,,....).....................(..1,..2,,....) ....................(..1,..2,,....)...... (.........(..1)  .........(....) ...................) = ... .........(..)...... ..............(........).((........ ..[..............])0|.(........=..[..............])..........................1(..))== ............................(..)...... ..............(....).(= (....=..)(..............(..).0) |.(....=..)( (....[..............]=..[..............])( (....[..................]<..[..................])(..............(..).0) ..(....[..................]<..[..................])0) ..(....[..............]=..[..............])............................+1(..))),.... ............................(..)...... 0,..>.. = s(..)ʾ s(..)=..+1 ...................Իȡ ........................... CellдϢӱصַ󣬽һϢ ............ͨ ........Ķ壬֪ ........ ............ͨЩϢķ͸ ..ڵ㡣⣬ ................... ..............ͨڵ㷢͵ Membership List󣬽ǨƵ״̬ ....................(..1,..2,,....) ....................(..1,..2,,....)Բ .........(....) .........(....)״̬£ ....ĵַΪǰڵĵַΪǰڵĵַӵһ ...........................ʼԱ ....ĵַ ...........................ĵַַͬ ....е ...........................е ...........................ݣֵ ........................... ....ĵַ ....ֱӸµһյ Cell 3.3 Gossip-Style Membershipķģڱǻݱµģʵһ Gossip-Style Membership Protocol P2PϵͳԴƣʵʲڶɵļȺǽʹöģʵϽ۱̵̻ĲϵĳıҲǽ̡ 3.3.1 Go CSPǽʹ Goʵ Gossip-Style Membership ProtocolGoʵֲģͣһ C++JavaʹõĶ̣߳һ CSPģ͡ڵһᵽģCSP  29ҳ 43ҳҲһ־Ľ㣬 CCSڵȼ۵ͺͽģϵͳõķй CCS CSPԱȵоҲкܶ[12, 36-38]Goʹ CSPе Process/ChannelӦе goroutine/channel[39]Goroutineһ̣߳ channelЭ̼ͨšʹ GoԵĲԿԸֱ۵չʾǰģ͵Ĵʵ֡ 3.3.2ʵЧڴĽͱȽϿСֻչʾؼֵĴʵ֣ĴʵּءзʽԲο¼ AڱдĹУǵĿɶԺַƣǶǰģͨͽ״̬޸ģûб仯 GoУǿ channelʵ .....Thеͨʵ Gossip.StyleMembershipЭĽڵṹʱNodeṹУchan͵ֶηֱͼ 3.5еӦֵͨУ 3.2.1Сᵽ ............,..ͨڽڵ ..ڵ ..ϢһͨʵϱϢ߼·ʵʱϢĴ·ֻҪÿһڵһ ..........ͨڽռȺڵϢɣڵ㷢Ϣʱǿͨ Othersֶ Others[i].transͨϢ Nodeڵ״̬Ǩƣǿʹ bool͵ֶ isbadʾڵ״̬ǷΪ BadNode type Node struct { isbad bool trans chan []Message time chan Nil timeout chan Nil accept chan []Message deliver chan []Message Others []*Node }ǿʹû selectĶ·ʵַȷѡ 3.2.3.2ʵֵϵͳеģ ...... .......... = ...........................(..).( . .........................................,........(..))........PERM.. ............,..(..)...............(..)......................... +..ʡ N/{..} ..........ȷѡ񣺽յ timeoutźź acceptͨȡص Mem.bership Listѡ ..ڵ㷢ͣڵյ Membership ListϢͨ deliverͨ򱾵ص Membership̴ݸϢ select { //timeout.accept(x).bigoplus p tau.GossipingNode case <-node.timeout: messages := <-node.accept // kڵ targets node.Gossiping(messages, targets) // sum trans(x).deliver(x).FragileNode case message := <-node.trans: node.deliver <-message }  30ҳ 43ҳselect﷨ switchȽƣÿһ caseһͨŲselectȴ caseִܹе caseʱִи caseʱ selectŻͨŲִ case飬ͨŲִС GoУÿһִеĵԪΪһ goroutineͬʹ goroutine ......ʵ .....ThеĲ ........................N = (......................1 . ......................2 .  . ........................)ʵ֣ for i:=0;i<NODE_NUM;i++ { go nodes[i].Fragile() }ʵǵϵͳУһڵ㱾ص TimerMembershipͽͨ NodeͬӦǲġڷʵֵĻ Gossip-Style MembershipЭ P2Pϵͳ 3.3 3.3 Gossip-StyleMembershipЭ P2Pϵͳ ֵ   ..  5 ϵͳڵ  .. ..........  20.1 ÿ Gossipڷ͵Ľڵ ڵʧЧ ʹʵֵϵͳʹ htmlΪǵϵͳһǰ˽棬ǿ۲ÿڵ MembershipListĸ¹̡ͼ 3.7 Gossip-Style MembershipЭ 5ڵ P2Pϵͳ MembershipListչͼ 3.7չʾÿڵ MembershipListչ̣еһΪڵĵַʹַʾҲԸҪ޸ĳʽڶΪӦڵ״̬ BadʾڵʧЧӦ ..............״̬NormalʾڵӦ ...................... ........״̬еİťԸıڵ״̬ǶӦڵ Membership ListԿչʾ AddressHeartbeat, StatusֶΣ Statusֶ LocalTimeãǰʱ MembershipList LocalTimeֶ ..........ʱΪһӦĽڵ㴦ʧЧ״̬ 3.7ĵһͼУǿԿʼ״̬нڵ MembershipList  31ҳ 43ҳΪգڶͼ MembershipListţͼȫڵ Membership Listڵ㡣ͬչʾϵͳʧЧ⡣ͼ 3.8Уһͼ״̬ڵڶͼֶı˵ַΪ address1ڵ״̬ʹýڵʧЧԿͼ ad.dress0,address3⵽ address1ʧЧͼнڵ㶼⵽ address1ʧЧͼ 3.8 Gossip-StyleMembershipЭ 5ڵ P2PϵͳĴҲͨ ..........ʹϵͳеĽڵһԶʧЧͻָ̬Чͨ¼ Aеķʽá 3.4СһƼʧЧЭ Gossip-Style MembershipЭ .....ThʵΪֵģ͵Ӧãṩʹ .....ThģʵͨЭʵ˼·Ƚ GossipЭ MembershipЭ飬ʹ .....Thʵ˻ GossipЭ P2Pϵͳʹ .....ThķŻģ֤ GossipЭಥԼĹ۲ȼԡڻ GossipЭ P2PϵͳĻϣ޸ʵʹΪ Gossip-SytleMembershipЭ P2Pϵͳ GOԵĴʵֺͷģ⡣ 32ҳ 43ҳܽչͽִѧеӦս㷺ʽģ͵оҲܹעΪ÷ΧΪ㷺һ־ģֵͣģ͵ĸչҲкܶойУԴֵģ͵չĳһضӦóΪΪĴֵģ͵ľԣģǷȱձϵĸʴֵģ͵оԲ㡣еͨøչʹֵģ͵Ļ̽ԵĴֵģ͵ĸչڴֵģ ....ThĻϣʹһģ޹صĸչչ ....Th﷨Ǩ壬ѡӣʹȷѡ֮⻹ѡǳһģΪֵģͣΪ .....ThͬʱΪ˸ .....ThĹ۲ȼԵĶ壬ʹ Uniform Approachķȼۼȼɭ֣ ..תƺ ..תƣ .....ThµķŻģ⡣ UniformApprachУȼıǸʻ ....Thе״ֵ̬ľ̬Ǩ .......=.......ThеķŻģıȼ ..ӦĻ {....}....Ӧȼɭģȼе ..תƺ ..תơǽɢķŻģϵȫΪ .....ThĹ۲ȼԣ˹۲ȼԵ֤ͬһƼЭ Gossip-Style Membership ProtocolΪʹ .....ThģͨẒ́ʵķ͹̣ʹ .....ThķŻģ GossipЭǶĶಥԼĹ۲ȼԡ Gossip-Style Membership Protocolģ͵ͬʱʹ Goʵģͣ GoԶӦ .....Thӵʵ֡ʵ֤ .....ThڽģͷͨŹʱһĿԡϣ .....ThΪдֵʵʵĽģͷṩЧеķȻĿǰģһĲ㣬ΪһоҪԴ¼֣һֵģеԿ棺Ժͨԣֵԣ̴ֵܻĳһֵзĳָʷֲƷĳָʷֲͨڽ̶ͨͨѡģڵУ GossipЭԵѡͨŵĶ Uniform ApproachֻעͨԣڱĶֵģ͵ĶУҲֻעͨԡһĺԣһ޹صʽ޷ֵһֲھ⣬ǿ .....ThĻϿֲֵźǣڵǸӦãڵڶеļ򵥵ӣʵ϶ .....ThϵḶ̌ϵͳûֵͨţϵͳûɱԪǲҪԵģ͡Ǳڹ˼һǷǵĵطʵϽģһֵݵϵͳڱĵһЩһоԹעԡݵԵʵ֣ MILNER R Communication and Concurrency[3]ڽ 33ҳ 43ҳеṩһ˼·Ϊ˽ģֵ CCSMILNER R Value-passing CCSתΪ CCSʱ .. =..(..)...תΪ .. =...........{../..} ..ǸֵļϡҲ ..=...............(..)...{../..}ķģֵԡڶϣֵģҲһͨõģֻͣڱĵеӦóͨŹ̵ĽģܹںܶдֵصĲ̡ϣӦóǿѧƵģ̵̡ȵȡһĹҲЩʹֵģͽһЩ⡣ 34ҳ 43ҳ¼ A Gossip-StyleMembershipЭ P2Pϵͳ Goʵ¼ Aнչʾ .........йصĲ֣Ҫ룬Ʋ https://github.com/Angeladadd/AGossipStyleMembershipProtocolImplementedUsingRVPC Node Goʵ֡ package simple import ( "fmt" "math/rand" "time" ) const ( P_FAIL=0.1 GOSSIP_INTERVAL=time.Second //1sGossipһ REPAIR_TIME=4*time.Second //BadNodeָʱ NODE_NUM = 5 //ڵĿ BUFSIZE = 4 //channel buffer sizeһΪĽڵĿ K=2 IS_AUTO = false //չʾ ) type Nil struct {} type Node struct { isbad bool trans chan []Message time chan Nil timeout chan Nil accept chan []Message deliver chan []Message Others []*Node //־ͼλʾʹ address string membership *Membership } func NewNode(address string) (instance *Node) { instance = new(Node) instance.accept = make(chan []Message) instance.deliver = make(chan []Message) instance.trans = make(chan []Message, BUFSIZE) instance.time = make(chan Nil) instance.timeout = make(chan Nil) instance.isbad = false instance.address = address instance.Others = make([]*Node, 0) instance.membership = NewMembership(address, instance.accept, instance.deliver) fmt.Printf("Initialized Node %p\n", instance) return  35ҳ 43ҳ} //·ʵ Nondeterminated Choice func (node *Node) Fragile() { fmt.Printf("Node %p Starts\n", node) go node.timer() go node.membership.Running() node.time <-Nil{} for { if (IS_AUTO) { node.Bad() } if (node.isbad) { time.Sleep(REPAIR_TIME) continue } select { case message := <-node.trans: node.deliver <-message for len(node.trans) > 0 { message = <-node.trans node.deliver <-message } case <-node.timeout: messages := <-node.accept rand.Seed(time.Now().UnixNano()) perm := rand.Perm(len(node.Others))[:K] var targets []*Node for _, p := range perm { targets = append(targets, node.Others[p]) } node.Gossiping(messages, targets) } } } func (node *Node) Bad() { rand.Seed(time.Now().UnixNano()) r := rand.Float32() if r < P_FAIL { node.isbad = true } else { node.isbad = false } } func (node *Node) timer() { for { select { case <-node.time: time.Sleep(GOSSIP_INTERVAL) node.timeout <-Nil{} } } } func (node *Node) Gossiping(messages []Message, targets []*Node) { var str string for _,t := range targets {  36ҳ 43ҳif (len(t.trans) == BUFSIZE) { continue } t.trans <-messages str+=(t.address+" ") } fmt.Printf("[SEND] From: %s; To: %s\n", node.address, str) node.time <-Nil{} } func transmitting(messages []Message, targets []*Node) string { var str string for _,t := range targets { if (len(t.trans) == BUFSIZE) { continue } t.trans <-messages str+=(t.address+" ") } return str } func (node *Node)ChangeStatus() { node.isbad = !node.isbad } func (node *Node)Address() string { return node.address } main Goʵ֣Ҫ˶ڵ㲢ִе߼ package main import ( "encoding/json" "fmt" "./simple" "strconv" "log" "net/http" "io/ioutil" ) var nodes []*simple.Node func main() { nodes = make([]*simple.Node, 0) for i:=0;i<simple.NODE_NUM;i++ { nodes = append(nodes, simple.NewNode("address"+strconv.Itoa(i))) } for i:=0;i<simple.NODE_NUM;i++ { nodes[i].Others = append(nodes[i].Others, nodes[:i]...) nodes[i].Others = append(nodes[i].Others, nodes[i+1:]...) go nodes[i].Fragile() } for {  37ҳ 43ҳ} } Membership Goʵ֡ Nodemain GoʵѾԺܺõ DemoãҿǵЧʣûбҪʹСģұ˳ִеĵ Membershipеÿһ CellִУMembershipľʵж岻ȫͬ package simple import ( "time" "fmt" ) type Message struct { Address string Heartbeat int } type Cell struct { Message Message LocalTime int64 } type Membership struct { address string heartbeat int membershipList map[string]Cell accept chan []Message deliver chan []Message } func NewMembership(address string, accept chan []Message, deliver chan[]Message) (instance * Membership){ instance = new(Membership) instance.address = address instance.heartbeat = 0 instance.membershipList = make(map[string]Cell,0) instance.accept = accept instance.deliver = deliver fmt.Printf("Initialzed Membership %p\n", instance) return } func (membership *Membership) Running() { for { select { case messages := <-membership.deliver: membership.Deliver(messages) case membership.accept <-membership.Accept(): } } } func (membership *Membership) Deliver(messages []Message) { list := membership.membershipList for _, message := range messages {  38ҳ 43ҳif message.Address == membership.address { continue } if cell, ok := list[message.Address]; !ok || (cell.Message.Heartbeat < message.Heartbeat) { //MembershipListûڵϢϢǾɵģӻ list[message.Address] = Cell{Message:Copy(message), LocalTime:time.Now().UnixNano()} } } membership.PrintUpdate() } func (membership *Membership) Accept() (messages []Message) { list := membership.membershipList messages = make([]Message, 0) membership.heartbeat++ messages = append(messages, Message{membership.address, membership.heartbeat}) for _, cell := range list { messages = append(messages, Copy(cell.Message)) } return }  39ҳ 43ҳο [1][M/OL].:ѧٿȫ.廪ѧ,2005:65-67.https://b ooks.google.com.hk/books?id=n79Zh2JzBhYC. [2] BAETEN J. A brief history of process algebra[J/OL]. Theoretical Computer Science, 2005, 335(2):131-146. http://www.sciencedirect.com/science/article/pii/S0304397505000307. DOI:https://doi.org/10.1016/j.tcs.2004.07.036. [3] MILNER R. Communication and Concurrency[M]. USA: Prentice-Hall, Inc., 1989. [4] HOARECAR.CommunicatingSequentialProcesses[J/OL].Commun.ACM,1978,21(8): 666-677. https://doi.org/10.1145/359576.359585. DOI: 10.1145/359576.359585. [5] BERGSTRA J, KLOP J. Algebra of communicating processes with abstraction[J/OL]. The.oretical Computer Science, 1985, 37:77-121. http://www.sciencedirect.com/science/article /pii/030439758590088X. DOI: https://doi.org/10.1016/0304-3975(85)90088-X. [6] BOLOGNESI T, BRINKSMA E. Introduction to the ISO specification language LO.TOS[J/OL]. Computer Networks and ISDN Systems, 1987, 14(1):25-59. http://www.sci encedirect.com/science/article/pii/0169755287900857. DOI: https://doi.org/10.1016/0169-7 552(87)90085-7. [7] GIACALONEA,JOUCC,SMOLKASA.AlgebraicReasoningforProbabilisticConcurrent Systems[C].in:Proc.IFIPTC2WorkingConferenceonProgrammingConceptsandMethods. North-Holland, 1990:443-458. [8] HANSSONH,JONSSONB.Acalculusforcommunicatingsystemswithtimeandprobabil.ities[C]. in: [1990]Proceedings 11th Real-Time Systems Symposium. 1990:278-287. [9] LOWE G. Probabilities and Priorities in Timed CSP[D]. 1993. [10] ANDOVAS.ProcessAlgebrawithProbabilisticChoice[C].in:KATOENJP.FormalMeth-odsforReal-TimeandProbabilisticSystems.Berlin,Heidelberg:SpringerBerlinHeidelberg, 1999:111-129. [11] FUY.AUniformApproachtoRandomProcessModel[J/OL].CoRR,2019,abs/1906.09541. arXiv: 1906.09541. http://arxiv.org/abs/1906.09541. [12] FIDGE C. A Comparative Introduction to CSP, CCS and LOTOS[R/OL]. Software Verifi.cationResearchCentre,DepartmentOfComputerScience,UniversityOfQueensland.1994. http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.35.6397&rep=rep1&type=pdf. [13] FU Y. The Value-Passing Calculus[M/OL]. in: LIU Z, WOODCOCK J, ZHU H. Theories ofProgrammingandFormalMethods:EssaysDedicatedtoJifengHeontheOccasionofHis 70th Birthday. Berlin, Heidelberg: Springer Berlin Heidelberg, 2013:166-195. https://doi.or g/10.1007/978-3-642-39698-4_11. DOI: 10.1007/978-3-642-39698-4_11. [14] HUANG H, YANG F. An interpretation of Erlang into value-passing Calculus[J]. Journal of Networks, 2013, 8(7):1504-1513.  40ҳ 43ҳ[15] WINSKEL G. A presheaf semantics of value-passing processes[C]. in: MONTANARI U, SASSONEV.CONCUR96:ConcurrencyTheory.Berlin,Heidelberg:SpringerBerlinHei.delberg,1996:98-114. [16] ING..LFSD..TTIRA,LINH.CHAPTER7 -ASymbolicApproachtoValue-PassingPro.cesses[G/OL]. in: BERGSTRA J, PONSE A, SMOLKA S. Handbook of Process Algebra. Amsterdam: Elsevier Science, 2001:427-478. http://www.sciencedirect.com/science/article /pii/B9780444828309500254. DOI: https://doi.org/10.1016/B978-044482830-9/50025-4. [17] PRESBURGER M. Uber die vollstandigkeiteines gewissen systems der arithmetik ganzer zahlen[C].in: Welchendie addition alseinzigeoperationhervortritt.Comptes-Rendusduler Congres desMathematiciens desPaysSlavs, 1929. [18] DAS A, GUPTA I, MOTIVALA A. SWIM: scalable weakly-consistent infection-style pro.cessgroupmembershipprotocol[C].in:ProceedingsInternationalConferenceonDependable Systemsand Networks. 2002:303-312. [19]ʩ.װĸʽģ[D].Ϻͨѧ, 2007. [20] ZHANG Q, JIANG Y, DING L. Modelling and Analysis of Network Security .a.ProbabilisticValue-passingCCSApproach[C].in:QINGS,OKAMOTOE,KIMK,etal. Information and Communications Security. Cham: Springer International Publishing, 2016: 295-302. [21] VARACCA D, V.LZER H, WINSKEL G. Probabilistic Event Structures and Domains[C]. in:GARDNERP,YOSHIDAN.CONCUR2004 -ConcurrencyTheory.Berlin,Heidelberg: Springer BerlinHeidelberg,2004:481-496. [22]½,,.ɢѧṹ[M].ͨѧ, 2004. [23] Van GLABBEEK R J, WEIJLAND W P. Branching Time and Abstraction in Bisimulation Semantics[J/OL]. J. ACM, 1996, 43(3):555-600. https://doi.org/10.1145/233551.233556. DOI:10.1145/233551.233556. [24] Van GLABBEEK R J, WEIJLAND W P. Branching Time and Abstraction in Bisimulation Semantics[J/OL]. J. ACM, 1996, 43(3):555-600. https://doi.org/10.1145/233551.233556. DOI:10.1145/233551.233556. [25] BAIER C, HERMANNS H. Weak bisimulation for fully probabilistic processes[C]. in: GRUMBERG O. Computer Aided Verification. Berlin, Heidelberg: Springer Berlin Heidel.berg, 1997:119-130. [26] PHILIPPOUA,LEEI,SOKOLSKYO.WeakBisimulationforProbabilisticSystems[C].in: PALAMIDESSI C. CONCUR 2000  Concurrency Theory. Berlin, Heidelberg: Springer Berlin Heidelberg, 2000:334-349. [27] ANDOVA S, WILLEMSE T A. Branching bisimulation for probabilistic systems: Charac.teristics and decidability[J/OL]. Theoretical Computer Science, 2006, 356(3):325-355. http ://www.sciencedirect.com/science/article/pii/S0304397506001459. DOI: https://doi.org/10 .1016/j.tcs.2006.02.010. [28] HENNESSY M, LIN H. Symbolic bisimulations[J/OL]. Theoretical Computer Science, 1995, 138(2):353-389. http://www.sciencedirect.com/science/article/pii/030439759400 172F. DOI: https://doi.org/10.1016/0304-3975(94)00172-F. [29].ɢѧ㷨ڶ[M].еҵ, 2013. [30] DEMERS A, et al. Epidemic Algorithms for Replicated Database Maintenance[J]. Proceed.ings of the Sixth Annual ACM Symposium on Principles of Distributed Computing, 1987, 87:1-12. DOI: 10.1145/41840.41841. [31] FANTI G, VISWANATH P. Anonymity Properties of the Bitcoin P2P Network[Z]. 2017. arXiv: 1703.08761 [cs.CR]. [32] GUREVICH Y, MANI R. Group Membership Protocol: Specification and Verification[M]. in:SpecificationandValidationMethods.USA:OxfordUniversityPress,Inc.,1995:295-328. [33] KAWAZOEAGUILERAM,CHENW,TOUEGS.Heartbeat:Atimeout-freefailuredetector for quiescent reliable communication[C]. in: MAVRONICOLAS M, TSIGAS P. Distributed Algorithms.Berlin,Heidelberg: SpringerBerlin Heidelberg, 1997:126-140. [34] VanRENESSER,MINSKYY,HAYDENM.AGossip-StyleFailureDetectionService[C]. in: DAVIES N, JOCHEN S, RAYMOND K. Middleware98. London: Springer London, 1998:55-70. [35] LIENIG J, BRUEMMER H. Reliability Analysis[M/OL]. in: Fundamentals of Electronic Systems Design. Cham: Springer International Publishing, 2017:45-73. https://doi.org/10.1 007/978-3-319-55840-0_4. DOI: 10.1007/978-3-319-55840-0_4. [36] HATZELM,WAGNERC,PETERSK,etal.EncodingCSPintoCCS(ExtendedVersion)[Z]. 2015.arXiv: 1508.01127 [cs.LO]. [37] VanGLABBEEKR.MusingsonEncodingsandExpressiveness[J/OL].ElectronicProceed.ings inTheoretical ComputerScience, 2012, 89:81-98.http://dx.doi.org/10.4204/EPTCS.89 .7. DOI: 10.4204/eptcs.89.7. [38] BROOKESSD.OntherelationshipofCCSandCSP[C].in:DIAZJ.Automata,Languages and Programming. Berlin, Heidelberg: Springer Berlin Heidelberg,1983:83-96. [39] PRABHAKAR R, KUMAR R. Concurrent programming with Go[R/OL]. Google, Tech. 2011. http://www.golang.org.  41ҳ 43ҳ 42ҳ 43ҳллҵĵʦڣڡʦĹÿζظʼҵʣķ򣬸ҺܶǳнĽָл F1603303ͬѧϵͬѧԶ̱ڼ䣬໥ʱڵעҺܴİлҵ LATEXģ SJTUTHESISͬѧлҵͬѧлĸǵֺ֧͹ 43ҳ 43ҳON UNIFORM APPROACH TORANDOMPROCESS MODEL With the rapid development of parallel and distributed computer system, concurrency theory hasbecomeanimportantbranchofthetheoryofprograms. Researchonconcurrencytheorydeepens peoples understanding of concurrent system. Some of the research outcomes have already been used in mainstream programming languages with concurrency features, like Ada and Java. Process calculus is a kind of formal methods using algebraic methods to study concurrent system, such as CCS, CSP and ACP. As a model for describing concurrent systems, process calculus has been extensively studied and successfully applied to the specification, design, analysis, and verification of actual systems. Moderncomputersystems,whichareopen,distributedandinteractive,havebothnondetermin.istic behaviors and random choices. In order to use simple, easy-to-use formal methods to describe complexconcurrentsystems,andtomodelandanalyzeconcurrentsystems,weusuallyusestatistical behavioralcharacteristicsofnon-deterministicbehavior. Therefore,itismeaningfultointroducethe conceptofrandomnessintheconcurrentprocessmodel. Asanimportantextanttoconcurrencythe.ory, probabilistic process has been widely researched. Recently, Fu proposes a Uniform Approach usedtoturnaprocessmodelintoarandomizedextension. Sinceitisamodelindependentapproach, we can use it to derive a probabilistic extension of any other process model. Fu expresses Uniform Approachbydemonstratinghowto definethegrammarandsyntaxofRCCS,arandomizedversion of CCS, and provides us a way to define bisimulation andequivalenceon RCCS as well. A value-passing calculus is a process calculus where the content of communications are val.ueschosenfromsomedatadomain,andthepropositionsappearingintheconditionalsareformulas constructedfromalogic. Itcanbeappliedtomodelingandanalyzingcommunicatingprocesses,bi.ologicalprocessesandotherreal-worldproblemswithvalue-passingcharacteristics. Inmoststudies of value-passing calculus, there exits some oracles providing data domain, logic decision and even computationoffunctionsinvalue-passingprocesses. Thoseoraclesareusuallyremainedundefined makingithardtoanalyzetheexpressivenessofthosemodels. However,Fuproposesavalue-passing calculus,called....Th,usingafirstordertheorytodecidetheboolexpressionandaturingcomplete numeric systemto derive the outcomes of functions, which successfully avoidsuch oracles. Consider....Th sgreatexpressiveness,wedecidetouseUniformApproachtoextend....Th into a probabilistic version, called .....Th. Hopefully, .....Th could help to model and analyze some meaningful real-world process such as communication and network security etc. With the aim of benefit mankind, we apply Uniform Approach to ....Th and get the grammarand symbolic transition syntax of .....Th, specifically, we add random choice operator to .....Th as well as a transition rule to random choice. Equivalence of processes is a basic topic of the theory of programs. In the field of process calculus, we usually use bisimulation to describe the equivalence of process models. Bisimulation has been studied for many years since process calculus came into being. Representative work in. 1ҳ 3ҳcludesMilnersweakbisimulationandvanGlabbeekandWeijlandsbranchingbisimulation. As for equivalence of probabilistic process, there already exits some research on full probabilistic pro-cesses,finite states probabilistic processes etc. However,it is hard to use branchingbisimulation or weak bisimulation to describe the equivalence of value-passing process because of the conditional operator. Inthisway,scholarscameupwithasymbolicbisimulationforvalue-passingcalculus. Fu also definedthe symbolic bisimulation of ....Th. UniformApproachproposesarandomversionofbranchingbisimulationtodescribetheequiv.alenceofRCCS.Similarly,wecanusethemethodinUniformApproachtodefinearandomversion of symbolic bisimulation for our .....Th. The core idea to derive a random version of a certain bisimulationistofindoutarandomversionofstate-preservingsilenttransition. UniformApproach uses Epsilon tree to construct a random branching bisimulation. The main difficulty of using Uni.form Approach to define .....Th s symbolic bisimulation is still the conditional operator. With the aim of eliminate the influence of conditional operator, we propose the conditional equivalence class and conditional Epsilon tree. After defining the conditional l-transition and q-transition, we propose a random symbolic bisimulation. The essence of our symbolic bisimulation is that we can find a division of a certain condition and use conditional epsilon trees corresponding to each ele.mentinthedivisiontosimulateaconditionalepsilontree. Asforsomespecialprocessesthathavea conditionalepsilontreewithallbranchesinfinite,wedefine thecodivergenceof .....Th forthose processes. Then we define the observance equivalence of .....Th as the largest codivergent and symbolicbisimulatingrelation. Wemanagetoprovethecongruenceofourobservanceequivalence. Meanwhile, we also provide some interesting examples to annotate the concepts mentioned above. Inaddition,forshowingournewlyproposedrandomvalue-passingprocessmodelisfeasibleto model and analyze some real-world processes, we decide to model a real-world process as a demo. Since gossip protocol is interesting, widely known and easy to understand and failure detection is a mainstream topic of cloud computing, we choose to model and analyze a communicating process based on a failure detection mechanism, Gossip-Style Membership Protocol. Theres something withrandomizationinsidegossipprotocolthateverygossiptime,eachnodewillpickkothernodes in a cluster to send gossip message. It is a good property for us to apply our random value-passing process model. We firstly construct a peer-to-peer system where nodes all use gossip protocol to communicate with each other. Since gossip is used to implement multicast in a group, we also define a specification of a multicasting system and prove that the multicasting system is symbolic bisimulatedwithourpeer-to-peersystembasedongossipprotocol. Next,weadjustthedefinitionof the former peer-to-peer system and using .....Th to define a membership system interacting with nodesconnectedtothecommunicatingnetworkofthepeer-to-peersystem. Finally,weuseGolangto implementourpeer-to-peersystemandusehtmlandjavascripttoshowtheresult. Resultshowsthat ourpeer-to-peersystemimplementedusing .....Th runscorrectly,whichimpliesthat .....Th is feasibletobeusedinmodelingandanalyzingreal-worldprocesswithvalue-passingcharacteristics, such as communicating processes and biology processes etc. Hopefully, after we define and prove several concepts of .....Th and demonstrate with an application of it, modeling and analyzing real-world process with value-passingcharacteristics could be easier and evena routinework. Although there still exists something not well considered in our model, our expansion of the value-passingprocessmodel,foronehand,furthersupportsthemodelindependenceoftheUniform  2ҳ 3ҳApproach. Ontheotherhand,itprovesthefeasibilityofapplyingtherandomvalue-passingprocess model tothe modeling and analysisof concurrent systemswith value-passing characteristics.  3ҳ 3ҳ